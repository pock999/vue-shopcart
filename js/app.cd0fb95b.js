(function(t){function i(i){for(var a,o,r=i[0],c=i[1],u=i[2],l=0,p=[];l<r.length;l++)o=r[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(i);while(p.length)p.shift()();return e.push.apply(e,u||[]),n()}function n(){for(var t,i=0;i<e.length;i++){for(var n=e[i],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(e.splice(i--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},e=[];function o(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,i,n){o.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,i){if(1&i&&(t=o(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var a in t)o.d(n,a,function(i){return t[i]}.bind(null,a));return n},o.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="/vue-shopcart/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=i,r=r.slice();for(var u=0;u<r.length;u++)i(r[u]);var d=c;e.push([0,"chunk-vendors"]),n()})({0:function(t,i,n){t.exports=n("56d7")},"1d9c":function(t,i,n){},"56d7":function(t,i,n){"use strict";n.r(i);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{attrs:{id:"app"}},[n("nav",[n("div",{attrs:{id:"web-name"}},[t._v("SHOPPING CART")]),n("ul",{attrs:{id:"nav-list"}},[n("li",{class:{"this-tab":t.ShopTab},on:{click:function(i){return t.chageTab()}}},[t._v("商品列表")]),n("li",{class:{"this-tab":t.CartTab},on:{click:function(i){return t.chageTab()}}},[t._v("購物車")])])]),t.ShopTab?n("div",[n("Shop",{attrs:{"shop-list":t.GoodsList,"cart-list":t.CartList},on:{updateList:t.updateList}})],1):t._e(),t.CartTab?n("div",[n("Cart",{attrs:{"cart-list":t.CartList,"shop-list":t.GoodsList},on:{updateList:t.updateList}})],1):t._e()])},e=[],o=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("span",{domProps:{innerHTML:t._s(t.msg)}}),n("ul",{staticClass:"product-list"},t._l(t.shopList,(function(i){return n("li",{key:i.id,staticClass:"product-item"},[n("div",{staticClass:"product-img-contain"},[n("img",{attrs:{src:i.img,alt:i.name}}),n("span",{staticClass:"product-id"},[t._v(t._s(i.id))])]),n("div",{staticClass:"product-info"},[n("div",{staticClass:"product-name"},[t._v("品名:"+t._s(i.name))]),n("div",{staticClass:"product-price"},[t._v(t._s(i.price)+"元")]),n("div",{staticClass:"product-remain-amount"},[t._v("剩餘數量:"+t._s(i.remainingAmount))]),i.remainingAmount>0?n("button",{staticClass:"add-cart",on:{click:function(n){return t.addToCart(i)}}},[t._v("加入購物車")]):n("div",{staticClass:"disable",attrs:{disabled:""}},[t._v("沒有庫存了")])])])})),0)])},r=[],c=(n("4160"),n("fb6a"),n("b0c0"),n("159b"),{props:["shopList","cartList"],data:function(){return{msg:"加入購物車即可保留<br/>因此加入購物車剩餘數量就會減少了"}},methods:{updateList:function(t,i){this.$emit("updateList",t,i)},addToCart:function(t){var i=this.cartList.slice(0),n=this.shopList.slice(0),a=!1;i.forEach((function(i){i.goodsID==t.id&&(a=!0,i.amount+=1)})),a||i.push({goodsID:t.id,name:t.name,price:t.price,amount:1,img:t.img}),n.forEach((function(i){i.id==t.id&&(i.remainingAmount-=1)})),this.updateList(i,n)}}}),u=c,d=(n("e9e1"),n("2877")),l=Object(d["a"])(u,o,r,!1,null,null,null),p=l.exports,f=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[t._v(" "+t._s(t.msg)+" "),n("ul",{staticClass:"cart-list"},t._l(t.cartList,(function(i){return n("li",{key:i.goodsID,staticClass:"cart-item"},[n("div",{staticClass:"cart-img-contain"},[n("img",{attrs:{src:i.img,alt:i.name}}),n("span",{staticClass:"cart-id"},[t._v(t._s(i.goodsID))])]),n("div",{staticClass:"cart-info"},[n("div",{staticClass:"cart-name"},[t._v("品名:"+t._s(i.name))]),n("div",{staticClass:"cart-price"},[t._v(t._s(i.price)+"元")]),n("div",{staticClass:"cart-amount"},[t._v("購物車數量:"+t._s(i.amount))]),n("button",{staticClass:"add-amount",on:{click:function(n){return t.addAmount(i)}}},[t._v(" ＋ ")]),n("button",{staticClass:"minus-amount",on:{click:function(n){return t.minusAmount(i)}}},[t._v(" － ")])]),n("button",{staticClass:"remove-product",on:{click:function(n){return t.removeProduct(i)}}},[t._v(" Ｘ ")])])})),0),n("div",{attrs:{id:"tail"}},[n("div",{attrs:{id:"total"}},[t._v("總計:$"+t._s(t.total))]),n("button",{attrs:{id:"payment"},on:{click:function(i){return t.payment()}}},[t._v("結帳")]),n("div")])])},m=[],h=(n("a434"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),{props:["cartList","shopList"],data:function(){return{msg:"購物車數量一增加，剩餘數量就會減少"}},computed:{total:function(){var t=0;return this.cartList.forEach((function(i){t+=i.amount*i.price})),t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}},methods:{updateList:function(t,i){this.$emit("updateList",t,i)},addAmount:function(t){var i=this.cartList.slice(0),n=this.shopList.slice(0);i.forEach((function(i){i.goodsID==t.goodsID&&(i.amount+=1)})),n.forEach((function(i){i.id==t.goodsID&&(i.amount-=1)})),this.updateList(i,n)},minusAmount:function(t){var i=this.cartList.slice(0),n=this.shopList.slice(0);i.forEach((function(i,n,a){i.goodsID==t.goodsID&&(i.amount-=1,0==i.amount&&a.splice(n,1))})),n.forEach((function(i){i.id==t.goodsID&&(i.remainingAmount+=1)})),this.updateList(i,n)},removeProduct:function(t){var i=this.cartList.slice(0),n=this.shopList.slice(0),a=0;i.forEach((function(i,n,s){i.goodsID==t.goodsID&&(a+=i.amount,s.splice(n,1))})),n.forEach((function(i){i.id==t.goodsID&&(i.remainingAmount+=a)})),this.updateList(i,n)},payment:function(){alert("一共"+this.total+"元");var t=[],i=this.shopList.slice(0);this.updateList(t,i)}}}),v=h,g=(n("88b7"),Object(d["a"])(v,f,m,!1,null,null,null)),b=g.exports,_={name:"App",components:{Shop:p,Cart:b},data:function(){return{ShopTab:!0,CartTab:!1,GoodsList:[{id:1,name:"商品1",price:300,remainingAmount:5,img:"https://fakeimg.pl/350x200/EBBF96/eeeeee?text=Product1"},{id:2,name:"商品2",price:720,remainingAmount:2,img:"https://fakeimg.pl/350x200/A9BF9B/ffffff?text=Product2"},{id:3,name:"商品3",price:599,remainingAmount:15,img:"https://fakeimg.pl/350x200/ECAC20/ffffff?text=Product3"},{id:4,name:"商品4",price:199,remainingAmount:0,img:"https://fakeimg.pl/350x200/6C615B/eeeeee?text=Product4"},{id:5,name:"商品5",price:1500,remainingAmount:3,img:"https://fakeimg.pl/350x200/8EC5FB/ffffff?text=Product5"}],CartList:[{goodsID:2,name:"商品2",price:720,amount:7,img:"https://fakeimg.pl/350x200/A9BF9B/ffffff?text=Product2"},{goodsID:4,name:"商品4",price:199,amount:1,img:"https://fakeimg.pl/350x200/6C615B/eeeeee?text=Product4"}]}},methods:{chageTab:function(){this.ShopTab=!this.ShopTab,this.CartTab=!this.CartTab},updateList:function(t,i){this.CartList=t.sort((function(t,i){return t.goodsID-i.goodsID})),this.GoodsList=i}}},C=_,L=(n("5c0b"),Object(d["a"])(C,s,e,!1,null,null,null)),x=L.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(x)}}).$mount("#app")},"5c0b":function(t,i,n){"use strict";var a=n("9c0c"),s=n.n(a);s.a},"88b7":function(t,i,n){"use strict";var a=n("8f4f"),s=n.n(a);s.a},"8f4f":function(t,i,n){},"9c0c":function(t,i,n){},e9e1:function(t,i,n){"use strict";var a=n("1d9c"),s=n.n(a);s.a}});
//# sourceMappingURL=app.cd0fb95b.js.map